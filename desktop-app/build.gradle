plugins {
    id 'application'
}

java {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

application {
    mainClass = 'net.heretical_camelid.fhau.desktop_app.CommandLineInterface'
}

tasks.register('fatJar', Jar) {
    manifest {
        attributes 'Main-Class': application.mainClass
    }
    from configurations.runtimeClasspath.collect {
        it.isDirectory() ? it : zipTree(it)
    }
    dependsOn(':lib:jar')
    with jar
}

dependencies {
    implementation project(':lib')
    implementation 'net.java.dev.jna:jna:5.8.0'
    implementation 'org.junit.jupiter:junit-jupiter:5.10.2'
    implementation 'org.hid4java:hid4java:0.8.0'
    // implementation 'org.usb4java:usb4java:1.3.0'
}